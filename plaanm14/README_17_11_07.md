# Protokoll
## Thema: Einführung in das Atmel Studio

Name: Platzer Andreas <br>
Datum: 07.11.2017 <br>
Gruppe: 2 <br>
Anwesend: Platzer Andreas, Muri Lorenz, Nebel Florian, Mandl Gerhard, Michael Mörth, Moritz Martinak, Mario Nabernik, Marcel Köhler <br>
Abwesend: Es waren alle anwesend. <br>
Abgabe Datum: 14.11.2017 <br>

## Atmel Studio 

Das Atmel Studio ist eine erweiterte GUI die von Atmel zur Verfügung gestellt wird und nur Atmel Chips unterstützt. Grundsätzlich wird das Studio nur zur Simulierungen der Chips genützt, dass bedeutet das man keine zusätzliche Hardware benötigt um entwickelte Programme ausführen zu können. Einen weiteren Vorteil am Atmel Studio ist, dass man komplette Einsicht in den Ablauf der CPU hat. Jeder Maschinenbefehl der aus dem Quellcode stammt kann im Studio ausgelesen werden.


## Einführung in das Atmel Studio

Als erste Übung wurde das Atmel Studio gestartet und ein neues Projekt mit dem Microcontroller Atmega328 Angelegt. <br>

### Eigenschaften vom Atmega 328: <br>

* 16MHz Mikroprozessor
* 32kB Flash-Speicher
* 32 Register
* 2kB SRAM
* 1kB EEPROM

Weitere Informationen finden sich hier: http://www.atmel.com/Images/Atmel-42735-8-bit-AVR-Microcontroller-ATmega328-328P_Datasheet.pdf 

## Aufbau des Microchips:
Weiters wurden drei wichtige Bestandteile das Chips durchgemacht: <br>

### Aufbau der CPU:
Als Haupt Einheit des Chips steht die CPU im Vordergrund, sie arbeitet alle Maschinenbefehle ab die im Speicher stehen. Der generelle Aufbau der CPU wird im folgendem Bild dargestellt. <br>

### Aufbau der Register
Im Microchip gibt es ebenfalls 31 Register wobei die letzten 6 zu jeweils zwei Register zusammengefasst werden diese nennt man X, Y, Z Register. Alle Register des Chips sind in der folgenden Liste entnehmbar. <br>
![Git-Commands](https://github.com/HTLMechatronics/m14-la1-sx/blob/plaanm14/plaanm14/Register%20Atmega%20328.JPG)

### Aufbau des Arbeitsspeichers
Der SRAM (Static RAM) ist eine Unterteilung des Rams. Eine besondere Eigenschafft ist es das die Speicherzellen wieder zurückgesetzt werden sobald sie nicht mehr mit genug Spannung versorgt werden.<br>

#### Stack-Speicher:
Im Bild unten (Arbeitsspeicher im Atmel Atmega 16) ist zusehen das der Stack Speicher von unten nach oben wachsen kann. Dies ist auch das Prinzip des Speichers, Objekte werden immer aufgestapelt, abgebaut können sie anschließend nur von oben werden ( Last-In-First-Out-Prinzip (LIFO)). Wie das Wort „pointer“ sagt, zeigt der Stack pointer immer auf den nächsten freien Platz im Speicher. 

![Git-Commands](https://github.com/HTLMechatronics/m14-la1-sx/blob/plaanm14/plaanm14/Arbeitsspeicher%20Atmel%20Atmega%2016.JPG) <br>

### Ausfüren eines Programmes:

Unser Programm bestand aus einer einfachen main Schleife und einen Return, dennoch wurden für dieses einfache Programm einige Maschinenbefehle ausgeführt. <br> 

### Assembler:
Eine Assemblersprache ist eine hardwarenahe Programmiersprache. Für verschiedene Computertypen gibt es jeweils eine spezielle, auf den Befehlssatz des Prozessors, Mikrocontrollers, digitalen Signalprozessors oder anderweitig programmierbaren Geräts zugeschnittene Assemblersprache. Von den Maschinensprachen unterscheiden sie sich dadurch, dass anstelle eines für den Menschen schwer verständlichen Binärcodes die Befehle und deren Operanden durch leichter verständliche mnemonische Symbole in Textform (z. B. „MOVE“), Operanden (u. a. auch) als symbolische Adressen (z. B. „PLZ“), notiert und dargestellt werden.  
Mehr dazu: [Wiki](https://de.wikipedia.org/wiki/Assemblersprache)  
  *Quelle: Wikipedia*  


#### Wichtige Maschinenbefehle sind:

* RJMP: Sprung zu einer Adresse
* CLR R1: Register 1 wird auf 0 gesetzt
* OUT 0x3F, R1: Daten werden von Register 1 ins I/O Register übertragen
* SER R28: Das Register R28 bekommt den Wert 0xFF
* LDI R29, 0x08: Läd einen konstanten Wert in ein Register
