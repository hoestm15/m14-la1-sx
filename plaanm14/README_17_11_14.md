# Protokoll
## Thema: Diskussion über Maschinenbefehle mit Atmel Studio 

Name: Platzer Andreas <br>
Datum: 14.11.2017 <br>
Gruppe: 2 <br>
Anwesend: Platzer Andreas, Muri Lorenz, Nebel Florian, Mandl Gerhard, Michael Mörth, Moritz Martinak, Mario Nabernik, Marcel Köhler <br>
Abwesend: Es waren alle anwesend. <br>
Abgabe Datum: 05.02.2018 <br>


### Wiederholung der letzten Einheit 

Im ersten Schritt wurden die Protokolle der letzten Einheit besprochen und beurteilt. 
Anschließend wiederholten wir den Stoff der in der letzten Einheit besprochen wurde.

### Analysieren einfacher C Programme mithilfe von Atmel Studio

Mithilfe des Atmel Studios wurden verschiedene Programme geschrieben die wir anschließend in der Maschinensprache analysierten.Durch das Studio konnten wir unsere Programme ohne große Probleme entwickeln. 

### Zusatz einer variable „volatile“

Volatile bedeutet das der Compiler das Programm mit der Variable nicht verkürzt. Es sorgt außerdem dafür das schritte die im Programm eventuell nicht benötigt werden nicht gelöscht werden was für unsere anschließenden Aufgaben im Vorteil hat. Bei manchen Programmen ist es wichtig volatile vorzusetzen um eine Echtzeit zu erhalten. 

### Programme:

#### Erstes Programm „variable definieren“

Die Aufgabe im ersten Programm eine Variable zu definieren und sie dann anschließend den wert 14 zu geben. Weiteres ging es darum die Maschinenbefehle in eine für uns verständliche Schrift zu übersetzen. 

##### Quellcode
```c
int main (void)
{
	volatile unsigned char x;
	x = 14;
	
	return x;
}
```
#### Assemblerbefehle
Schritt | Assemblerbefehle | Beschreibung
--------------- | --------- | ---------
1 | PUSH R28 | Register R28 besitzt einen Wert der im Stack gespeichert wird.
2 | PUSH R29 | Register R29 besitzt einen Wert der im Stack gespeichert wird.
3 | PUSH R1 |  Register R1 besitzt einen Wert der im Stack gespeichert wird. 
4 | IN R28,0x3D | Da der Register R28 nun leer ist kann der Wert 0x3D eingeladen werden. Dieser Wert kommt vom I/O-Register.
5 | IN R29,0x3E | Da der Register R29 nun leer ist kann der Wert 0x3E eingeladen werden. Dieser Wert kommt vom I/O-Register.
6 | LDI R24,0x0C | Die Konstante wird in Hex Codiert und in den Register R28 geschreiben.
7 | STD Y+1,R24 | Der Wert von R24 wird im Stack Speicher als lokalen Variable abgelegt.  
8 | LDD R24,Y+1 | Das Register R24 bekommt den Variablenwert.
9 | LDI R25,0x00 | Das Register R25 bekommt einen Rückgabewert.
10 | POP R0 | Variable wird gelöscht.
11 | POP R29 | R29 wird aus dem Stack gelöscht.
12 | POP R28 | R28 wird aus dem Stack gelöscht.



