# 3.Protokoll
## Thema: Atmel Studio Teil 2

Datum 24.10.2017
Abwesend: Niemand

## Stundenwiederholung

Wir wiederholten in Form einer mündlichen Prüfung die Dinge, die wir in den vorhergegangenen ersten beiden Einheiten(zusammengefasst im [1.Protokoll](https://github.com/HTLMechatronics/m14-la1-sx/blob/buljem14/Protokolle/1.Einheit) und [2.Protokoll](https://github.com/HTLMechatronics/m14-la1-sx/blob/buljem14/Protokolle/2.Einheit.md) durchgenommen hatten.

## Variablendeklaration ,-definition

Folgendes Programm wurde geschrieben, ausgeführt und im Debug-Modus im Assemblercode durchgegangen:

<pre>int main (void)
{
volatile unsigned char x;
x = 12;
return 0;
}</pre>

In diesem Programm wird zuerst eine Variable deklariert, und dann mit dem Wert 12 definiert. Das Schlüsselwort *volatile* verhindert die Programmoptimierung, sodass der gesamte Assemblercode sichtbar ist.

#### Assemblercode

* PUSH R28        Register R28 wird in den Stack gespeichert
* PUSH R29        Register R29 wird in den Stack gespeichert
* PUSH R1         Register R1(immer null) wird in den Stack gespeichert(als Platzhalter für die Variable)
* IN R28, 0x3D    I/O Register 0x3D wird im R28 gespeichert
* IN R29, 0x3E    I/O Register 0x3E wird im R29 gespeichert
* LDI R24, 0x0C   Wert 0x0C (12) wird im R24 gespeichert
* STD Y+1, R24    Wert aus R24 wird in den Stack geladen
* LDD R24, Y+1    Wert aus dem Stack wird ins R24 geladen
* LDI R25, 0x00   Rückgabewert wird ins R25 geladen
* POP R0          R0 wird vom Stack gehoben
* POP R29         R29 wird vom Stack gehoben
* POP R28         R28 wird vom Stack gehoben

## [Heartbleed-Bug](https://de.wikipedia.org/wiki/Heartbleed)

Schwere Sicherheitslücke, die dadurch verursacht wird, dass die gelöschten Daten im Stack gar nicht wirklich gelöscht werden, sondern nur freigegeben. Diese Situation wurde von Hackern genutzt um private SSL-Schlüssel aus dem Stack abzurufen. Jedoch konnte diese Sicherheitslücke geschlössen werden, bevor wirklicher Schaden entstehen konnte.

