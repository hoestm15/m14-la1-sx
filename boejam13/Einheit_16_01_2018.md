# Protokoll
  Böcksteiner Jakob  
  4AHME, Gruppe 1  
  16.01.18  
  Anwesend: Berger, Böcksteiner, Bullner, Ehmann, Enzi, Kobor, Knappitsch  
  Abwesend: niemand  
  
  ## Makefiles
  Um normalerweise einen Quellcode zu Übersetzen braucht man mehrere Kommandos,
  mit Makefiles muss man nur eine File mit der Abfolge der Befehle die benötigt werden erstellen,
  danach muss man bei jeder Änderung der Datei nur mehr den Befehl make eingeben.
  
  ## make 
  ### Syntax
  ```
  Ziel: Abhängigkeit
  Kommando 1
  Kommando 2
  
  Ziel 2: Abhängigkeit 
  Kommando 1
  Kommando 2
  ```
  
  ### Aufruf
  Es wird der Befehl `make` Aufgerufen, es werden alle Abhängigkeiten durchlaufen. Gibt es einen Fehler wird der Gesamte Vorgang Abgebrochen. Bei erfolgreichem durchlauf wird die Datei mit einem Zeitstempel versehen.
  
### Zeitstempel
Der Zeitstempel wird verwendent, dass `make` nur den Vorgang ausführen muss wenn es wirklich notwendig ist. Denn wenn sie die Zeitstempel Abhängiger Dateien Übereinstimmen oder die Datei die von etwas Abhängig gemacht wurde einen neueren Stempel hat so ist es nicht notwendig diese zu Aktualisieren.

## Uebung 1
Es war eine Makefile zu erstellen mit der ein einfaches C-Programm Übersetzt werden kann, verwendet wird ein Arduino Nano. Das Programm war ein LED-Blicklicht
### Syntax
```
#define F_CPU 16000000L // Taktfrequenz
#include <avr/io.h>
#include <util/delay.h>

int main () {
  DDRB = (1<<PB5);

  while (1) {
    PORTB ^= (1<<PB5);
    _delay_ms(500);
    }

  return 0;
}
```

### Makefile
```
all: build

build: main.hex

cleanandbuild: clean build

prog: main.hex
	avrdude -c usbasp -p atmega328p -e -U flash:w:main.hex:i
	touch prog

main.hex: main.elf
	avr-objcopy -O ihex main.elf main.hex

main.elf: main.o
	avr-gcc -mmcu=atmega328p -Os -o main.elf main.o

main.o: main.c
	avr-gcc -mmcu=atmega328p -Os -c main.c

clean:
	-rm main.o
	-rm main.elf
	-rm main.hex
  ```
  Es kann jedes Ziel einzeln aufgerufen werden.
  Bei clean wird "-" benötigt um einen Abbruch zu vermeiden wenn eine Datei nicht existiert.
  
  ## Uebung 2
  In dieser Übung wurde gefordert das wir C-Dateien zusammeführen, um wieder ein Blicklicht zu erhalten
  ### Syntax main.c
  ```
